[distinguished_name]
countryName = MY_OPENSSL_CERT_COUNTRY
localityName = MY_OPENSSL_CERT_LOCALITY
organizationName = MY_OPENSSL_CERT_ORGANIZATION
organizationalUnitName = MY_OPENSSL_CERT_UNIT
commonName = MY_OPENSSL_CERT_COMMON_NAME
emailAddress = chat@MY_OPENSSL_CERT_COMMON_NAME

[selfsigned]
basicConstraints = CA:TRUE
subjectAltName = @subject_alternative_name

[subject_alternative_name]
otherName.0 = 1.3.6.1.5.5.7.8.7;IA5STRING:_xmpp-client.MY_OPENSSL_CERT_COMMON_NAME
otherName.1 = 1.3.6.1.5.5.7.8.7;IA5STRING:_xmpp-server.MY_OPENSSL_CERT_COMMON_NAME
otherName.2 = 1.3.6.1.5.5.7.8.5;FORMAT:UTF8,UTF8:MY_OPENSSL_CERT_COMMON_NAME
otherName.3 = 1.3.6.1.5.5.7.8.7;IA5STRING:_xmpp-server.upload.MY_OPENSSL_CERT_COMMON_NAME
otherName.4 = 1.3.6.1.5.5.7.8.5;FORMAT:UTF8,UTF8:upload.MY_OPENSSL_CERT_COMMON_NAME
DNS.0 = MY_OPENSSL_CERT_COMMON_NAME
DNS.1 = upload.MY_OPENSSL_CERT_COMMON_NAME

[req]
distinguished_name = distinguished_name
prompt = no
x509_extensions = selfsigned
req_extensions = certrequest

[certrequest]
basicConstraints = CA:FALSE
keyUsage = digitalSignature,keyEncipherment
subjectAltName = @subject_alternative_name
extendedKeyUsage = serverAuth,clientAuth
