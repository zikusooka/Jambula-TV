/**
 * ************************
 * jambula host templates *
 * ************************
 */

template Host "jambula-event-internet-status" {
  max_check_attempts = 1
  check_interval = 1m
  retry_interval = 30s

  check_command = "hostalive"
 
  enable_event_handler = 1 
  event_command = "internet-status-event"

  enable_flapping = 1
}

template Host "jambula-01-host" {
  max_check_attempts = 2
  check_interval = 1m
  retry_interval = 30s

  check_command = "hostalive"
}

template Host "jambula-01-wifi-device" {
  max_check_attempts = 2
  check_interval = 1m
  retry_interval = 30s

  check_command = "wifi_user"
  event_command = "wifi-user-status-event"
}

template Host "jambula-event-bluez-status" {
  max_check_attempts = 6 /** Should be > 1 for HARD/SOFT states **/
  check_interval = 30s
  retry_interval = 5s

  check_command = "l2ping"
 
  enable_event_handler = 1 
  event_command = "bluez-status-event"
  
  enable_flapping = 1
  flapping_ignore_states = ["Critical"]
}

template Host "jambula-event-tshark-status" {
  max_check_attempts = 6 /** Should be > 1 for HARD/SOFT states **/
  check_interval = 30s
  retry_interval = 5s

  check_command = "tshark"
 
  enable_event_handler = 1 
  event_command = "wifi-tshark-status-event"
  
  enable_flapping = 1
  flapping_ignore_states = ["Critical"]
}


/**
 * ***************************
 * jambula service templates *
 * ***************************
 */

template Service "jambula-01-service" {
  max_check_attempts = 3
  check_interval = 1m
  retry_interval = 30s
}

template Service "jambula-02-service" {
  max_check_attempts = 1
  check_interval = 1m
  retry_interval = 1m
}

template Service "jambula-03-service" {
  max_check_attempts = 1
  check_interval = 10s
}

template Service "jambula-04-service" {
  max_check_attempts = 3
  check_interval = 60m
  retry_interval = 10m
}

template Service "jambula-05-service" {
  max_check_attempts = 3
  check_interval = 180m
  retry_interval = 60m
}

template Service "jambula-disable-service" {
  #max_check_attempts = 3
  #check_interval = 180m
  #retry_interval = 60m
  enable_notifications = false
  enable_active_checks = false
  enable_passive_checks = false
  enable_event_handler = false
}



/**
 * ********************************
 * jambula notification templates *
 * ********************************
*/

template Notification "sms-host-notification" {
  command = "sms-host-notification"

  states = [ Up, Down ]
  types = [ Problem, Recovery ]

  interval = 0
  period = "24x7"
}

template Notification "sms-service-notification" {
  command = "sms-service-notification"

  states = [ Down ]
  types = [ Problem, Recovery ]

  interval = 0
  period = "24x7"
}


template Notification "osd-notification-once" {
  command = "on-screen-display-notification"

  states = [ OK, Critical ]
  types = [ Problem ]
  interval = 0
  period = "24x7"
}

template Notification "osd-notification-1-minute" {
  command = "on-screen-display-notification"

  states = [ OK, Critical ]
  types = [ Problem ]
  interval = 1m
  period = "24x7"
}

template Notification "osd-notification-2-minutes" {
  command = "on-screen-display-notification"

  states = [ OK, Critical ]
  types = [ Problem ]
  interval = 2m
  period = "24x7"
}

template Notification "osd-notification-3-minutes" {
  command = "on-screen-display-notification"

  states = [ OK, Critical ]
  types = [ Problem ]
  interval = 3m
  period = "24x7"
}

template Notification "osd-notification-5-minutes" {
  command = "on-screen-display-notification"

  states = [ OK, Critical ]
  types = [ Problem ]
  interval = 5m
  period = "24x7"
}

template Notification "osd-notification-30-minutes" {
  command = "on-screen-display-notification"

  states = [ OK, Critical ]
  types = [ Problem ]
  interval = 30m
  period = "24x7"
}

template Notification "osd-notification-1-hour" {
  command = "on-screen-display-notification"

  states = [ OK, Critical ]
  types = [ Problem ]
  interval = 60m
  period = "24x7"
}

template Notification "osd-notification-2-hours" {
  command = "on-screen-display-notification"

  states = [ OK, Critical ]
  types = [ Problem]
  interval = 120m
  period = "24x7"
}

template Notification "osd-notification-3-hours" {
  command = "on-screen-display-notification"

  states = [ OK, Critical ]
  types = [ Problem ]
  interval = 180m
  period = "24x7"
}
