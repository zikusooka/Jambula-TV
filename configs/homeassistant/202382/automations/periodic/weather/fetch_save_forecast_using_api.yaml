alias: Fetch the weather forecast periodically using API
initial_state: True

trigger:

  - platform: time_pattern
    minutes: '/25'


condition:
  condition: and
  conditions:

    # Internet state
    - condition: template
      value_template: "{{ is_state('binary_sensor.internet', 'on') }}"


action:

  # Run script
  # ----------
  - service: script.turn_on
    entity_id: script.fetch_save_forecast_using_api
