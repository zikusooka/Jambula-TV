alias: Wakeup for Zik
initial_state: True

trigger:

  - platform: state
    entity_id: binary_sensor.bluez_zik_01
    from: 'unavailable'
    to: 'on'


condition:
  condition: and
  conditions:

    # After sunset
    #- condition: sun
      #after: sunrise

    # Before midnight
    #- condition: time
      #before: '00:00:00'

    # Zik is home
    #- condition: state
    #  entity_id: 'device_tracker.kampala'
    #  state: 'home'
      
    # Night time mode is on
    #- condition: template
    #  value_template: "{{ is_state('input_boolean.night_mode', 'on') }}"


action:

  #  SCRIPT
  # -------
  - service: script.turn_on
    data:
      entity_id:
        - script.wakeup_zik
